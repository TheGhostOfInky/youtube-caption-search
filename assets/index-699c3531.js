(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function D(){}const He=t=>t;function ln(t,e){for(const n in e)t[n]=e[n];return t}function sn(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Ut(t){return t()}function yt(){return Object.create(null)}function H(t){t.forEach(Ut)}function Ee(t){return typeof t=="function"}function Q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ae;function on(t,e){return Ae||(Ae=document.createElement("a")),Ae.href=e,t===Ae.href}function rn(t){return Object.keys(t).length===0}function Je(t,e,n,l){if(t){const s=Yt(t,e,n,l);return t[0](s)}}function Yt(t,e,n,l){return t[1]&&l?ln(n.ctx.slice(),t[1](l(e))):n.ctx}function Ve(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(e.dirty.length,s.length);for(let c=0;c<i;c+=1)o[c]=e.dirty[c]|s[c];return o}return e.dirty|s}return e.dirty}function Ze(t,e,n,l,s,o){if(s){const i=Yt(e,n,l,o);t.p(i,s)}}function Ke(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}const Wt=typeof window<"u";let Qe=Wt?()=>window.performance.now():()=>Date.now(),xe=Wt?t=>requestAnimationFrame(t):D;const ye=new Set;function Gt(t){ye.forEach(e=>{e.c(t)||(ye.delete(e),e.f())}),ye.size!==0&&xe(Gt)}function et(t){let e;return ye.size===0&&xe(Gt),{promise:new Promise(n=>{ye.add(e={c:t,f:n})}),abort(){ye.delete(e)}}}const cn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function h(t,e){t.appendChild(e)}function Xt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function an(t){const e=v("style");return un(Xt(t),e),e.sheet}function un(t,e){return h(t.head||t,e),e.sheet}function C(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function tt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function F(t){return document.createTextNode(t)}function S(){return F(" ")}function we(){return F("")}function O(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Ht(t){return function(e){return e.preventDefault(),t.call(this,e)}}function fn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function dn(t){return function(e){e.target===this&&t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Jt(t){return t===""?null:+t}function _n(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.data!==e&&(t.data=e)}function ae(t,e){t.value=e??""}function M(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function kt(t,e,n){for(let l=0;l<t.options.length;l+=1){const s=t.options[l];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function hn(t){const e=t.querySelector(":checked");return e&&e.__value}function wt(t,e,n){t.classList[n?"add":"remove"](e)}function Vt(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,l,e),s}function $t(t,e){return new t(e)}const Oe=new Map;let De=0;function pn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function mn(t,e){const n={stylesheet:an(e),rules:{}};return Oe.set(t,n),n}function Pe(t,e,n,l,s,o,i,c=0){const r=16.666/l;let a=`{
`;for(let b=0;b<=1;b+=r){const $=e+(n-e)*o(b);a+=b*100+`%{${i($,1-$)}}
`}const _=a+`100% {${i(n,1-n)}}
}`,u=`__svelte_${pn(_)}_${c}`,f=Xt(t),{stylesheet:d,rules:g}=Oe.get(f)||mn(f,t);g[u]||(g[u]=!0,d.insertRule(`@keyframes ${u} ${_}`,d.cssRules.length));const w=t.style.animation||"";return t.style.animation=`${w?`${w}, `:""}${u} ${l}ms linear ${s}ms 1 both`,De+=1,u}function Re(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),De-=s,De||gn())}function gn(){xe(()=>{De||(Oe.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),Oe.clear())})}let Te;function oe(t){Te=t}function nt(){if(!Te)throw new Error("Function called outside component initialization");return Te}function Zt(t){nt().$$.on_mount.push(t)}function Kt(){const t=nt();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=Vt(e,n,{cancelable:l});return s.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}function Qt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const ve=[],K=[];let ke=[];const Ye=[],vn=Promise.resolve();let We=!1;function bn(){We||(We=!0,vn.then(lt))}function ce(t){ke.push(t)}function ue(t){Ye.push(t)}const Ue=new Set;let ge=0;function lt(){if(ge!==0)return;const t=Te;do{try{for(;ge<ve.length;){const e=ve[ge];ge++,oe(e),yn(e.$$)}}catch(e){throw ve.length=0,ge=0,e}for(oe(null),ve.length=0,ge=0;K.length;)K.pop()();for(let e=0;e<ke.length;e+=1){const n=ke[e];Ue.has(n)||(Ue.add(n),n())}ke.length=0}while(ve.length);for(;Ye.length;)Ye.pop()();We=!1,Ue.clear(),oe(t)}function yn(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}function kn(t){const e=[],n=[];ke.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),ke=e}let Ce;function st(){return Ce||(Ce=Promise.resolve(),Ce.then(()=>{Ce=null})),Ce}function he(t,e,n){t.dispatchEvent(Vt(`${e?"intro":"outro"}${n}`))}const Ne=new Set;let se;function Se(){se={r:0,c:[],p:se}}function Le(){se.r||H(se.c),se=se.p}function A(t,e){t&&t.i&&(Ne.delete(t),t.i(e))}function N(t,e,n,l){if(t&&t.o){if(Ne.has(t))return;Ne.add(t),se.c.push(()=>{Ne.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const it={duration:0};function wn(t,e,n){const l={direction:"in"};let s=e(t,n,l),o=!1,i,c,r=0;function a(){i&&Re(t,i)}function _(){const{delay:f=0,duration:d=300,easing:g=He,tick:w=D,css:b}=s||it;b&&(i=Pe(t,0,1,d,f,g,b,r++)),w(0,1);const $=Qe()+f,I=$+d;c&&c.abort(),o=!0,ce(()=>he(t,!0,"start")),c=et(j=>{if(o){if(j>=I)return w(1,0),he(t,!0,"end"),a(),o=!1;if(j>=$){const P=g((j-$)/d);w(P,1-P)}}return o})}let u=!1;return{start(){u||(u=!0,Re(t),Ee(s)?(s=s(l),st().then(_)):_())},invalidate(){u=!1},end(){o&&(a(),o=!1)}}}function $n(t,e,n){const l={direction:"out"};let s=e(t,n,l),o=!0,i;const c=se;c.r+=1;function r(){const{delay:a=0,duration:_=300,easing:u=He,tick:f=D,css:d}=s||it;d&&(i=Pe(t,1,0,_,a,u,d));const g=Qe()+a,w=g+_;ce(()=>he(t,!1,"start")),et(b=>{if(o){if(b>=w)return f(0,1),he(t,!1,"end"),--c.r||H(c.c),!1;if(b>=g){const $=u((b-g)/_);f(1-$,$)}}return o})}return Ee(s)?st().then(()=>{s=s(l),r()}):r(),{end(a){a&&s.tick&&s.tick(1,0),o&&(i&&Re(t,i),o=!1)}}}function Ct(t,e,n,l){const s={direction:"both"};let o=e(t,n,s),i=l?0:1,c=null,r=null,a=null;function _(){a&&Re(t,a)}function u(d,g){const w=d.b-i;return g*=Math.abs(w),{a:i,b:d.b,d:w,duration:g,start:d.start,end:d.start+g,group:d.group}}function f(d){const{delay:g=0,duration:w=300,easing:b=He,tick:$=D,css:I}=o||it,j={start:Qe()+g,b:d};d||(j.group=se,se.r+=1),c||r?r=j:(I&&(_(),a=Pe(t,i,d,w,g,b,I)),d&&$(0,1),c=u(j,w),ce(()=>he(t,d,"start")),et(P=>{if(r&&P>r.start&&(c=u(r,w),r=null,he(t,c.b,"start"),I&&(_(),a=Pe(t,i,c.b,c.duration,0,b,o.css))),c){if(P>=c.end)$(i=c.b,1-i),he(t,c.b,"end"),r||(c.b?_():--c.group.r||H(c.group.c)),c=null;else if(P>=c.start){const E=P-c.start;i=c.a+c.d*b(E/c.duration),$(i,1-i)}}return!!(c||r)}))}return{run(d){Ee(o)?st().then(()=>{o=o(s),f(d)}):f(d)},end(){_(),c=r=null}}}function Tt(t,e){const n=e.token={};function l(s,o,i,c){if(e.token!==n)return;e.resolved=c;let r=e.ctx;i!==void 0&&(r=r.slice(),r[i]=c);const a=s&&(e.current=s)(r);let _=!1;e.block&&(e.blocks?e.blocks.forEach((u,f)=>{f!==o&&u&&(Se(),N(u,1,1,()=>{e.blocks[f]===u&&(e.blocks[f]=null)}),Le())}):e.block.d(1),a.c(),A(a,1),a.m(e.mount(),e.anchor),_=!0),e.block=a,e.blocks&&(e.blocks[o]=a),_&&lt()}if(sn(t)){const s=nt();if(t.then(o=>{oe(s),l(e.then,1,e.value,o),oe(null)},o=>{if(oe(s),l(e.catch,2,e.error,o),oe(null),!e.hasCatch)throw o}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}}function Cn(t,e,n){const l=e.slice(),{resolved:s}=t;t.current===t.then&&(l[t.value]=s),t.current===t.catch&&(l[t.error]=s),t.block.p(l,n)}function re(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function W(t){t&&t.c()}function U(t,e,n,l){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),l||ce(()=>{const i=t.$$.on_mount.map(Ut).filter(Ee);t.$$.on_destroy?t.$$.on_destroy.push(...i):H(i),t.$$.on_mount=[]}),o.forEach(ce)}function Y(t,e){const n=t.$$;n.fragment!==null&&(kn(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Tn(t,e){t.$$.dirty[0]===-1&&(ve.push(t),bn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function x(t,e,n,l,s,o,i,c=[-1]){const r=Te;oe(t);const a=t.$$={fragment:null,ctx:[],props:o,update:D,not_equal:s,bound:yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:yt(),dirty:c,skip_bound:!1,root:e.target||r.$$.root};i&&i(a.root);let _=!1;if(a.ctx=n?n(t,e.props||{},(u,f,...d)=>{const g=d.length?d[0]:f;return a.ctx&&s(a.ctx[u],a.ctx[u]=g)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](g),_&&Tn(t,u)),f}):[],a.update(),_=!0,H(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const u=_n(e.target);a.fragment&&a.fragment.l(u),u.forEach(k)}else a.fragment&&a.fragment.c();e.intro&&A(t.$$.fragment),U(t,e.target,e.anchor,e.customElement),lt()}oe(r)}class ee{$destroy(){Y(this,1),this.$destroy=D}$on(e,n){if(!Ee(n))return D;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!rn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ot={Arabic:"ar",Bengali:"bn",Chinese:"zh",English:"en",French:"fr",German:"de",Italian:"it",Indonesian:"in",Japanese:"ja",Korean:"ko",Polish:"pl",Portuguese:"pt",Russian:"ru",Spanish:"es",Thai:"th",Turkish:"tr",Vietnamese:"vi",Urdu:"ur"},En=new DOMParser;async function Ge(t){const e=await fetch(t),n=e.headers.get("Content-Type")??"null";if(e.status>299||!n.startsWith("application/json"))throw new Error(`Invalid response:
Status: ${e.status}
Content-Type: ${n}`);return e.json()}async function*Sn(t){let e=await Ge(`https://pipedapi.kavin.rocks/channel/${t}`);for(yield e;e.nextpage;){const n=new URLSearchParams([["nextpage",e.nextpage]]),l=`https://pipedapi.kavin.rocks/nextpage/channel/${t}?${n}`;yield e=await Ge(l)}}async function xt(t){return Ge(`https://pipedapi.kavin.rocks/streams/${t}`)}async function Ln(t){const e=await fetch(t.url),n=e.headers.get("Content-Type")??"null";if(e.status>299||n.search("xml")===-1)throw new Error(`Invalid response:
Status: ${e.status}
Content-Type: ${n}`);const l=await e.text();return En.parseFromString(l,"text/xml")}async function In(t,e){const n=ot[e]??"en",l=await xt(t);return[(await Promise.all(l.subtitles.filter(({code:i})=>i.startsWith(n)).map(Ln))).map(i=>[...i.getElementsByTagName("p")]).flat(),l.title,l.uploadDate]}function qn(t){const e=t.match(/^(\d*):(\d*):(\d*).\d*$/);return e?e.slice(1,4).map(n=>parseInt(n)):[0,0,0]}function Mn(t,e,n,l=!0,s="en"){if(t.childNodes.length===0)return null;const o=[...t.childNodes].filter(_=>_.nodeName==="#text").map(_=>_.textContent).join(" ");if((l?o:o.toLocaleLowerCase(s)).search(e)<0)return null;const r=qn(t.getAttribute("begin")??""),a=r[0]*3600+r[1]*60+r[2];return{link:`https://youtu.be/${n.id}?t=${a}`,text:o,time:r.map(_=>_.toFixed(0).padStart(2,"0")).join(":"),id:n.id,name:n.name,date:n.date}}async function*An({id:t,search:e,signal:n,limit:l=1/0,caseSensitive:s=!0,lang:o="English"}){const i=ot[o]??"en",c=s||e instanceof RegExp?e:e.toLocaleLowerCase(i),r=Sn(t);let a=0;e:for await(const _ of r){const u=_.relatedStreams.map(f=>f.url.replace("/watch?v=",""));for(const f of u){if(++a>l||n.aborted)break e;const d=await In(f,o),g={id:f,name:d[1],date:d[2]},w=d[0].map(b=>Mn(b,c,g,s,i)).filter(b=>b);w.length>0&&(yield w)}}}const Et=/[a-zA-Z]/,St=(t,e=0)=>[...Array(t).keys()].map(n=>n+e);function Lt(t,e,n){const l=t.slice();return l[7]=e[n],l}function It(t){let e;return{c(){e=v("div"),m(e,"class","ring svelte-1rvptk"),M(e,"animation-delay",t[7]*(+t[6]/25)+t[5]),M(e,"width",t[7]*(+t[3]/6)+t[1]),M(e,"height",t[7]*(+t[3]/6)/2+t[1]),wt(e,"pause-animation",t[4])},m(n,l){C(n,e,l)},p(n,l){l&10&&M(e,"width",n[7]*(+n[3]/6)+n[1]),l&10&&M(e,"height",n[7]*(+n[3]/6)/2+n[1]),l&16&&wt(e,"pause-animation",n[4])},d(n){n&&k(e)}}}function Fn(t){let e,n=St(6,0),l=[];for(let s=0;s<n.length;s+=1)l[s]=It(Lt(t,n,s));return{c(){e=v("div");for(let s=0;s<l.length;s+=1)l[s].c();m(e,"class","wrapper svelte-1rvptk"),M(e,"--size",t[3]+t[1]),M(e,"--color",t[0]),M(e,"--motionOne",-t[3]/5+t[1]),M(e,"--motionTwo",+t[3]/4+t[1]),M(e,"--motionThree",-t[3]/5+t[1]),M(e,"--duration",t[2])},m(s,o){C(s,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(s,[o]){if(o&122){n=St(6,0);let i;for(i=0;i<n.length;i+=1){const c=Lt(s,n,i);l[i]?l[i].p(c,o):(l[i]=It(c),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}o&10&&M(e,"--size",s[3]+s[1]),o&1&&M(e,"--color",s[0]),o&10&&M(e,"--motionOne",-s[3]/5+s[1]),o&10&&M(e,"--motionTwo",+s[3]/4+s[1]),o&10&&M(e,"--motionThree",-s[3]/5+s[1]),o&4&&M(e,"--duration",s[2])},i:D,o:D,d(s){s&&k(e),tt(l,s)}}}function Nn(t,e,n){var _;let{color:l="#FF3E00"}=e,{unit:s="px"}=e,{duration:o="2.5s"}=e,{size:i="60"}=e,{pause:c=!1}=e,r=((_=o.match(Et))==null?void 0:_[0])??"s",a=o.replace(Et,"");return t.$$set=u=>{"color"in u&&n(0,l=u.color),"unit"in u&&n(1,s=u.unit),"duration"in u&&n(2,o=u.duration),"size"in u&&n(3,i=u.size),"pause"in u&&n(4,c=u.pause)},[l,s,o,i,c,r,a]}class On extends ee{constructor(e){super(),x(this,e,Nn,Fn,Q,{color:0,unit:1,duration:2,size:3,pause:4})}}function en(t){const e=t-1;return e*e*e+1}function qt(t){return t===0||t===1?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-t*20)+1}function Mt(t,{delay:e=0,duration:n=400,easing:l=en,axis:s="y"}={}){const o=getComputedStyle(t),i=+o.opacity,c=s==="y"?"height":"width",r=parseFloat(o[c]),a=s==="y"?["top","bottom"]:["left","right"],_=a.map($=>`${$[0].toUpperCase()}${$.slice(1)}`),u=parseFloat(o[`padding${_[0]}`]),f=parseFloat(o[`padding${_[1]}`]),d=parseFloat(o[`margin${_[0]}`]),g=parseFloat(o[`margin${_[1]}`]),w=parseFloat(o[`border${_[0]}Width`]),b=parseFloat(o[`border${_[1]}Width`]);return{delay:e,duration:n,easing:l,css:$=>`overflow: hidden;opacity: ${Math.min($*20,1)*i};${c}: ${$*r}px;padding-${a[0]}: ${$*u}px;padding-${a[1]}: ${$*f}px;margin-${a[0]}: ${$*d}px;margin-${a[1]}: ${$*g}px;border-${a[0]}-width: ${$*w}px;border-${a[1]}-width: ${$*b}px;`}}function At(t,{delay:e=0,duration:n=400,easing:l=en,start:s=0,opacity:o=0}={}){const i=getComputedStyle(t),c=+i.opacity,r=i.transform==="none"?"":i.transform,a=1-s,_=c*(1-o);return{delay:e,duration:n,easing:l,css:(u,f)=>`
			transform: ${r} scale(${1-a*f});
			opacity: ${c-_*f}
		`}}function Dn(t){let e;return{c(){e=v("a"),e.innerHTML='<svg width="80" height="80" viewBox="0 0 250 250" style="position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true" class="svelte-qqy0p4"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm svelte-qqy0p4"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>',m(e,"href","https://github.com/TheGhostOfInky/youtube-caption-search"),m(e,"class","github-corner svelte-qqy0p4"),m(e,"aria-label","View source on GitHub")},m(n,l){C(n,e,l)},p:D,i:D,o:D,d(n){n&&k(e)}}}class Pn extends ee{constructor(e){super(),x(this,e,null,Dn,Q,{})}}function Ft(t,e,n){const l=t.slice();return l[1]=e[n],l}function Nt(t){let e,n,l,s,o=t[1].name+"",i,c,r,a,_,u=t[1].date+"",f,d,g,w=t[1].time+"",b,$,I,j,P=t[1].text+"",E,G,L,J,R,y;return{c(){e=v("a"),n=v("div"),l=v("div"),s=F('On video: "'),i=F(o),c=F('"'),r=S(),a=v("div"),_=F("Uploaded on: "),f=F(u),d=S(),g=v("div"),b=F(w),$=F(`:
                `),I=v("span"),j=F('"'),E=F(P),G=F('"'),L=S(),m(l,"class","match-label svelte-1bqncck"),m(a,"class","match-date svelte-1bqncck"),m(I,"class","match-caption svelte-1bqncck"),m(g,"class","match-text svelte-1bqncck"),m(n,"class","svelte-1bqncck"),m(e,"href",J=t[1].link),m(e,"class","match-holder svelte-1bqncck"),m(e,"target","_blank")},m(T,z){C(T,e,z),h(e,n),h(n,l),h(l,s),h(l,i),h(l,c),h(n,r),h(n,a),h(a,_),h(a,f),h(n,d),h(n,g),h(g,b),h(g,$),h(g,I),h(I,j),h(I,E),h(I,G),h(e,L),y=!0},p(T,z){t=T,(!y||z&1)&&o!==(o=t[1].name+"")&&ne(i,o),(!y||z&1)&&u!==(u=t[1].date+"")&&ne(f,u),(!y||z&1)&&w!==(w=t[1].time+"")&&ne(b,w),(!y||z&1)&&P!==(P=t[1].text+"")&&ne(E,P),(!y||z&1&&J!==(J=t[1].link))&&m(e,"href",J)},i(T){y||(T&&ce(()=>{y&&(R||(R=Ct(e,Mt,{delay:150,duration:600,easing:qt,axis:"y"},!0)),R.run(1))}),y=!0)},o(T){T&&(R||(R=Ct(e,Mt,{delay:150,duration:600,easing:qt,axis:"y"},!1)),R.run(0)),y=!1},d(T){T&&k(e),T&&R&&R.end()}}}function Rn(t){let e,n,l=t[0],s=[];for(let i=0;i<l.length;i+=1)s[i]=Nt(Ft(t,l,i));const o=i=>N(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=we()},m(i,c){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(i,c);C(i,e,c),n=!0},p(i,[c]){if(c&1){l=i[0];let r;for(r=0;r<l.length;r+=1){const a=Ft(i,l,r);s[r]?(s[r].p(a,c),A(s[r],1)):(s[r]=Nt(a),s[r].c(),A(s[r],1),s[r].m(e.parentNode,e))}for(Se(),r=l.length;r<s.length;r+=1)o(r);Le()}},i(i){if(!n){for(let c=0;c<l.length;c+=1)A(s[c]);n=!0}},o(i){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)N(s[c]);n=!1},d(i){tt(s,i),i&&k(e)}}}function jn(t,e,n){let{matches:l}=e;return t.$$set=s=>{"matches"in s&&n(0,l=s.matches)},[l]}class zn extends ee{constructor(e){super(),x(this,e,jn,Rn,Q,{matches:0})}}const Bn="/youtube-caption-search/assets/insensitive-5c137b2f.svg",Un="/youtube-caption-search/assets/sensitive-c7ffbd61.svg",Yn="/youtube-caption-search/assets/regex-d4ec6626.svg",Wn="/youtube-caption-search/assets/string-97407cbb.svg";function Gn(t){let e,n,l,s,o,i;return{c(){e=v("label"),n=v("input"),l=S(),s=v("div"),m(n,"type","checkbox"),m(n,"class","svelte-1i1k09j"),m(s,"class","slider svelte-1i1k09j"),M(s,"--content","url("+t[1]+")"),m(e,"class","svelte-1i1k09j")},m(c,r){C(c,e,r),h(e,n),n.checked=t[0],h(e,l),h(e,s),o||(i=[O(n,"click",t[4]),O(n,"change",t[5])],o=!0)},p(c,[r]){r&1&&(n.checked=c[0]),r&2&&M(s,"--content","url("+c[1]+")")},i:D,o:D,d(c){c&&k(e),o=!1,H(i)}}}function Xn(t,e,n){let{checked:l}=e,{onimg:s=""}=e,{offimg:o=""}=e,i;function c(a){Qt.call(this,t,a)}function r(){l=this.checked,n(0,l)}return t.$$set=a=>{"checked"in a&&n(0,l=a.checked),"onimg"in a&&n(2,s=a.onimg),"offimg"in a&&n(3,o=a.offimg)},t.$$.update=()=>{t.$$.dirty&13&&n(1,i=l?s:o)},[l,i,s,o,c,r]}class Xe extends ee{constructor(e){super(),x(this,e,Xn,Gn,Q,{checked:0,onimg:2,offimg:3})}}const Hn="/youtube-caption-search/assets/question-755a7ab7.svg";function Jn(t){let e,n;return{c(){e=v("div"),n=F(t[0]),M(e,"top",t[5]+"px"),M(e,"left",t[4]+"px"),m(e,"class","tooltip svelte-658tnd")},m(l,s){C(l,e,s),h(e,n)},p(l,s){s&1&&ne(n,l[0]),s&32&&M(e,"top",l[5]+"px"),s&16&&M(e,"left",l[4]+"px")},d(l){l&&k(e)}}}function Vn(t){let e,n,l,s,o,i,c;return{c(){e=v("div"),n=F(t[1]),l=S(),s=v("img"),on(s.src,o=Hn)||m(s,"src",o),m(s,"alt","question-icon"),m(s,"class","svelte-658tnd"),M(e,"top",t[7]+"px"),M(e,"left",t[6]+"px"),m(e,"class","infotip svelte-658tnd")},m(r,a){C(r,e,a),h(e,n),h(e,l),h(e,s),i||(c=[O(s,"click",Ht(t[12])),O(e,"click",t[13])],i=!0)},p(r,a){a&2&&ne(n,r[1]),a&128&&M(e,"top",r[7]+"px"),a&64&&M(e,"left",r[6]+"px")},d(r){r&&k(e),i=!1,H(c)}}}function Zn(t){let e,n,l,s,o,i;const c=t[16].default,r=Je(c,t,t[15],null);function a(f,d){if(f[3])return Vn;if(f[2])return Jn}let _=a(t),u=_&&_(t);return{c(){e=v("div"),r&&r.c(),n=S(),u&&u.c(),l=we(),m(e,"class","clickable-tooltip svelte-658tnd")},m(f,d){C(f,e,d),r&&r.m(e,null),C(f,n,d),u&&u.m(f,d),C(f,l,d),s=!0,o||(i=[O(e,"mouseover",t[8]),O(e,"mousemove",t[9]),O(e,"mouseleave",t[10]),O(e,"click",Ht(t[11]))],o=!0)},p(f,[d]){r&&r.p&&(!s||d&32768)&&Ze(r,c,f,f[15],s?Ve(c,f[15],d,null):Ke(f[15]),null),_===(_=a(f))&&u?u.p(f,d):(u&&u.d(1),u=_&&_(f),u&&(u.c(),u.m(l.parentNode,l)))},i(f){s||(A(r,f),s=!0)},o(f){N(r,f),s=!1},d(f){f&&k(e),r&&r.d(f),f&&k(n),u&&u.d(f),f&&k(l),o=!1,H(i)}}}function Kn(t,e,n){let{$$slots:l={},$$scope:s}=e,{title:o}=e,{clickedTitle:i}=e,{clickElm:c}=e;const r=Kt();let a=!1,_=!1,u,f,d,g;function w(E){n(2,a=!0),n(4,u=E.pageX+5),n(5,f=E.pageY+5)}function b(E){n(4,u=E.pageX+5),n(5,f=E.pageY+5)}function $(){n(2,a=!1)}function I(E){const{target:G}=E;if(!G||!(G instanceof HTMLElement))return;n(3,_=!_);const L=G.getBoundingClientRect(),J=window.innerWidth;n(7,g=E.pageY+5),E.pageX<J-200?n(6,d=E.pageX+5):n(6,d=L.left)}function j(E){E.button===0&&(n(3,_=!1),r("openpopup",c))}function P(){n(3,_=!1)}return t.$$set=E=>{"title"in E&&n(0,o=E.title),"clickedTitle"in E&&n(1,i=E.clickedTitle),"clickElm"in E&&n(14,c=E.clickElm),"$$scope"in E&&n(15,s=E.$$scope)},[o,i,a,_,u,f,d,g,w,b,$,I,j,P,c,s,l]}class Ot extends ee{constructor(e){super(),x(this,e,Kn,Zn,Q,{title:0,clickedTitle:1,clickElm:14})}}function Dt(t){let e,n;return{c(){e=v("div"),n=F(t[0]),M(e,"top",t[3]+"px"),M(e,"left",t[2]+"px"),m(e,"class","tooltip svelte-4bjqp8")},m(l,s){C(l,e,s),h(e,n)},p(l,s){s&1&&ne(n,l[0]),s&8&&M(e,"top",l[3]+"px"),s&4&&M(e,"left",l[2]+"px")},d(l){l&&k(e)}}}function Qn(t){let e,n,l,s,o,i;const c=t[8].default,r=Je(c,t,t[7],null);let a=t[1]&&Dt(t);return{c(){e=v("div"),r&&r.c(),n=S(),a&&a.c(),l=we()},m(_,u){C(_,e,u),r&&r.m(e,null),C(_,n,u),a&&a.m(_,u),C(_,l,u),s=!0,o||(i=[O(e,"mouseover",t[4]),O(e,"mousemove",t[5]),O(e,"mouseleave",t[6])],o=!0)},p(_,[u]){r&&r.p&&(!s||u&128)&&Ze(r,c,_,_[7],s?Ve(c,_[7],u,null):Ke(_[7]),null),_[1]?a?a.p(_,u):(a=Dt(_),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},i(_){s||(A(r,_),s=!0)},o(_){N(r,_),s=!1},d(_){_&&k(e),r&&r.d(_),_&&k(n),a&&a.d(_),_&&k(l),o=!1,H(i)}}}function xn(t,e,n){let{$$slots:l={},$$scope:s}=e,{title:o}=e,i=!1,c,r;function a(f){n(1,i=!0),n(2,c=f.pageX+5),n(3,r=f.pageY+5)}function _(f){n(2,c=f.pageX+5),n(3,r=f.pageY+5)}function u(){n(1,i=!1)}return t.$$set=f=>{"title"in f&&n(0,o=f.title),"$$scope"in f&&n(7,s=f.$$scope)},[o,i,c,r,a,_,u,s,l]}class Fe extends ee{constructor(e){super(),x(this,e,xn,Qn,Q,{title:0})}}function el(t){let e,n,l,s,o,i,c,r,a,_;const u=t[4].default,f=Je(u,t,t[3],null);return{c(){e=v("dialog"),n=v("div"),l=S(),s=v("div"),o=v("div"),f&&f.c(),i=S(),c=v("button"),c.textContent="Close",m(n,"class","bg svelte-gx9eei"),m(o,"class","content svelte-gx9eei"),m(s,"class","grid svelte-gx9eei"),m(e,"class","svelte-gx9eei")},m(d,g){C(d,e,g),h(e,n),h(e,l),h(e,s),h(s,o),f&&f.m(o,null),h(o,i),h(o,c),t[7](e),r=!0,a||(_=[O(c,"click",t[6]),O(o,"click",fn(t[5])),O(e,"close",t[8]),O(e,"click",dn(t[9])),O(e,"keypress",t[2])],a=!0)},p(d,[g]){f&&f.p&&(!r||g&8)&&Ze(f,u,d,d[3],r?Ve(u,d[3],g,null):Ke(d[3]),null)},i(d){r||(A(f,d),r=!0)},o(d){N(f,d),r=!1},d(d){d&&k(e),f&&f.d(d),t[7](null),a=!1,H(_)}}}function tl(t,e,n){let{$$slots:l={},$$scope:s}=e,{open:o=!0}=e,i;function c(d){d.key==="Escape"&&i.close()}function r(d){Qt.call(this,t,d)}const a=()=>i.close();function _(d){K[d?"unshift":"push"](()=>{i=d,n(1,i)})}const u=()=>n(0,o=!1),f=()=>i.close();return t.$$set=d=>{"open"in d&&n(0,o=d.open),"$$scope"in d&&n(3,s=d.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&i&&o&&i.showModal()},[o,i,c,s,l,r,a,_,u,f]}class nl extends ee{constructor(e){super(),x(this,e,tl,el,Q,{open:0})}}function Pt(t){let e,n,l={ctx:t,current:null,token:null,hasCatch:!0,pending:il,then:sl,catch:ll,value:7,error:8};return Tt(n=t[1],l),{c(){e=we(),l.block.c()},m(s,o){C(s,e,o),l.block.m(s,l.anchor=o),l.mount=()=>e.parentNode,l.anchor=e},p(s,o){t=s,l.ctx=t,o&2&&n!==(n=t[1])&&Tt(n,l)||Cn(l,t,o)},d(s){s&&k(e),l.block.d(s),l.token=null,l=null}}}function ll(t){let e,n,l,s,o,i=t[8]+"",c;return{c(){e=v("p"),n=F(`Failed to fetch channel id:
                `),l=v("br"),s=S(),o=v("code"),c=F(i)},m(r,a){C(r,e,a),h(e,n),h(e,l),h(e,s),h(e,o),h(o,c)},p(r,a){a&2&&i!==(i=r[8]+"")&&ne(c,i)},d(r){r&&k(e)}}}function sl(t){let e,n,l=t[7]+"",s,o,i;return{c(){e=v("p"),n=v("code"),s=F(l),m(n,"class","clickable svelte-1mbxfu8")},m(c,r){C(c,e,r),h(e,n),h(n,s),o||(i=O(n,"click",t[3]),o=!0)},p(c,r){r&2&&l!==(l=c[7]+"")&&ne(s,l)},d(c){c&&k(e),o=!1,i()}}}function il(t){let e;return{c(){e=v("p"),e.textContent="Loading video..."},m(n,l){C(n,e,l)},p:D,d(n){n&&k(e)}}}function ol(t){let e,n,l,s,o,i,c,r,a,_,u,f,d=t[1]&&Pt(t);return{c(){e=v("div"),n=v("h3"),n.textContent="Obtaining the channel ID",l=S(),s=v("label"),o=v("div"),o.innerHTML=`Insert a link to a YouTube video of the channel you want to search through,
            <br/>
            can be in the form of youtu.be shortlinks or a full length url.`,i=S(),c=v("input"),r=S(),a=v("button"),a.textContent="Get channel ID",_=S(),d&&d.c(),m(c,"type","text"),m(c,"class","svelte-1mbxfu8"),m(s,"class","svelte-1mbxfu8"),m(a,"class","svelte-1mbxfu8"),m(e,"class","container svelte-1mbxfu8")},m(g,w){C(g,e,w),h(e,n),h(e,l),h(e,s),h(s,o),h(s,i),h(s,c),ae(c,t[0]),h(e,r),h(e,a),h(e,_),d&&d.m(e,null),u||(f=[O(c,"input",t[5]),O(a,"click",t[6])],u=!0)},p(g,[w]){w&1&&c.value!==g[0]&&ae(c,g[0]),g[1]?d?d.p(g,w):(d=Pt(g),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i:D,o:D,d(g){g&&k(e),d&&d.d(),u=!1,H(f)}}}function rl(t){const n=/youtu\.be\/([\d\w_\-]+)|watch\?[\d\w_\-\&=]*v=([\d\w_\-]+)/gim.exec(t),l=n==null?void 0:n.slice(1).filter(s=>s);return!l||l.length===0?null:l[0]}function cl(t,e,n){let{channelId:l}=e,s,o;async function i(){const _=rl(s);if(!_)throw new Error("No valid YouTube video ID found in string");const f=(await xt(_)).uploaderUrl.replace("/channel/","");return n(4,l=f)}function c(){navigator.clipboard.writeText(l)}function r(){s=this.value,n(0,s)}const a=()=>n(1,o=i());return t.$$set=_=>{"channelId"in _&&n(4,l=_.channelId)},[s,o,i,c,l,r,a]}class al extends ee{constructor(e){super(),x(this,e,cl,ol,Q,{channelId:4})}}function ul(t){let e;return{c(){e=v("div"),e.innerHTML=`<div class="info-container svelte-141x31i"><h3 class="svelte-141x31i">Basic string matching</h3> 
        <div class="svelte-141x31i">Under basic string matching mode the matching will find any string
            that matches the provided query, this can be troublesome in the case
            of short queries that are usually found inside other words.</div> 
        <h3 class="svelte-141x31i">Regular expression matching</h3> 
        <div class="svelte-141x31i">Regular expression matching is a lot more powerful at the cost of
            being substantially harder for the unintiatied, in this format your
            query is compiled to an
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions" target="_blank" class="svelte-141x31i">ECMAscript Regular Expression</a> 
            <br class="svelte-141x31i"/>
            Regular expressions can be used for matching only to a full word like
            the following:
            <code class="svelte-141x31i">/bword/b</code> 
            <br class="svelte-141x31i"/>
            For more information on regular expressions consult the MDN documentation
            linked above.</div> 
        <h3 class="svelte-141x31i">Case sensitivity</h3> 
        <div class="svelte-141x31i">With case sensitivity enabled only matches who follow the case of
            the inputted query will be matched, with case insensitivity the case
            of both the query and the captions is ignored, this is the advised
            way to deal with automatically generated captions as the
            capitalization generated by the speech-to-text crawlers can be
            unpredictable</div></div>`},m(n,l){C(n,e,l)},p:D,i:D,o:D,d(n){n&&k(e)}}}class fl extends ee{constructor(e){super(),x(this,e,null,ul,Q,{})}}const be={findid:{modal:al,title:"The Channel ID for the channel you want to search through",clickedTitle:"The channel ID can be obtained in several different ways, simplest one is by using a video URL from that channel, click the purple question mark to learn more:"},queries:{modal:fl,title:"A query of the text you wish to find in the subtitles",clickedTitle:"The query can be under the format of a string or an ECMAScript regular expression, click the purple question mark to learn more"}};function Rt(t,e,n){const l=t.slice();return l[8]=e[n],l}function jt(t){let e,n,l;function s(i){t[15](i)}let o={$$slots:{default:[dl]},$$scope:{ctx:t}};return t[7]!==void 0&&(o.open=t[7]),e=new nl({props:o}),K.push(()=>re(e,"open",s)),{c(){W(e.$$.fragment)},m(i,c){U(e,i,c),l=!0},p(i,c){const r={};c&67108930&&(r.$$scope={dirty:c,ctx:i}),!n&&c&128&&(n=!0,r.open=i[7],ue(()=>n=!1)),e.$set(r)},i(i){l||(A(e.$$.fragment,i),l=!0)},o(i){N(e.$$.fragment,i),l=!1},d(i){Y(e,i)}}}function dl(t){let e,n,l,s;function o(r){t[14](r)}var i=be[t[6]].modal;function c(r){let a={};return r[1]!==void 0&&(a.channelId=r[1]),{props:a}}return i&&(e=$t(i,c(t)),K.push(()=>re(e,"channelId",o))),{c(){e&&W(e.$$.fragment),l=we()},m(r,a){e&&U(e,r,a),C(r,l,a),s=!0},p(r,a){const _={};if(!n&&a&2&&(n=!0,_.channelId=r[1],ue(()=>n=!1)),a&64&&i!==(i=be[r[6]].modal)){if(e){Se();const u=e;N(u.$$.fragment,1,0,()=>{Y(u,1)}),Le()}i?(e=$t(i,c(r)),K.push(()=>re(e,"channelId",o)),W(e.$$.fragment),A(e.$$.fragment,1),U(e,l.parentNode,l)):e=null}else i&&e.$set(_)},i(r){s||(e&&A(e.$$.fragment,r),s=!0)},o(r){e&&N(e.$$.fragment,r),s=!1},d(r){r&&k(l),e&&Y(e,r)}}}function _l(t){let e;return{c(){e=F("YouTube channel ID")},m(n,l){C(n,e,l)},d(n){n&&k(e)}}}function hl(t){let e;return{c(){e=F("Search query")},m(n,l){C(n,e,l)},d(n){n&&k(e)}}}function pl(t){let e=t[5]?"Regular expressions":"String match",n;return{c(){n=F(e)},m(l,s){C(l,n,s)},p(l,s){s&32&&e!==(e=l[5]?"Regular expressions":"String match")&&ne(n,e)},d(l){l&&k(n)}}}function ml(t){let e,n=t[4]?"":"in",l,s;return{c(){e=F("Case "),l=F(n),s=F("sensitive")},m(o,i){C(o,e,i),C(o,l,i),C(o,s,i)},p(o,i){i&16&&n!==(n=o[4]?"":"in")&&ne(l,n)},d(o){o&&k(e),o&&k(l),o&&k(s)}}}function gl(t){let e;return{c(){e=F("Limit")},m(n,l){C(n,e,l)},d(n){n&&k(e)}}}function vl(t){let e;return{c(){e=F("Language")},m(n,l){C(n,e,l)},d(n){n&&k(e)}}}function zt(t){let e,n=t[8]+"",l;return{c(){e=v("option"),l=F(n),e.__value=t[8],e.value=e.__value,m(e,"class","svelte-crohmt")},m(s,o){C(s,e,o),h(e,l)},p:D,d(s){s&&k(e)}}}function bl(t){let e,n,l;return{c(){e=v("button"),e.textContent="Search",m(e,"class","svelte-crohmt")},m(s,o){C(s,e,o),n||(l=O(e,"click",t[10]),n=!0)},p:D,d(s){s&&k(e),n=!1,l()}}}function yl(t){let e,n,l;return{c(){e=v("button"),e.textContent="Abort",m(e,"class","svelte-crohmt")},m(s,o){C(s,e,o),n||(l=O(e,"click",t[11]),n=!0)},p:D,d(s){s&&k(e),n=!1,l()}}}function kl(t){let e,n,l,s,o,i,c,r,a,_,u,f,d,g,w,b,$,I,j,P,E,G,L,J,R,y,T,z,V,fe,te,je,pe,Ie,de,rt,ie,ze,$e,qe,Be,ct,B=t[6]&&jt(t);s=new Ot({props:{title:be.findid.title,clickedTitle:be.findid.clickedTitle,clickElm:"findid",$$slots:{default:[_l]},$$scope:{ctx:t}}}),s.$on("openpopup",t[13]),a=new Ot({props:{title:be.queries.title,clickedTitle:be.queries.clickedTitle,clickElm:"queries",$$slots:{default:[hl]},$$scope:{ctx:t}}}),a.$on("openpopup",t[13]),b=new Fe({props:{title:"Alternates between basic string matching and ECMAScript Regular Expressions",$$slots:{default:[pl]},$$scope:{ctx:t}}});function tn(p){t[18](p)}let at={onimg:Yn,offimg:Wn};t[5]!==void 0&&(at.checked=t[5]),I=new Xe({props:at}),K.push(()=>re(I,"checked",tn)),L=new Fe({props:{title:"Alternates between case senstive and insensitive matching",$$slots:{default:[ml]},$$scope:{ctx:t}}});function nn(p){t[19](p)}let ut={onimg:Un,offimg:Bn};t[4]!==void 0&&(ut.checked=t[4]),R=new Xe({props:ut}),K.push(()=>re(R,"checked",nn)),V=new Fe({props:{title:"Sets the limit to the number of videos to search captions of (starts at latest video), 0 disables the limit and searches YouTuber's entire public catalogue",$$slots:{default:[gl]},$$scope:{ctx:t}}}),de=new Fe({props:{title:"Selects language to search captions of",$$slots:{default:[vl]},$$scope:{ctx:t}}});let me=t[9],X=[];for(let p=0;p<me.length;p+=1)X[p]=zt(Rt(t,me,p));function ft(p,q){return p[0]?yl:bl}let Me=ft(t),le=Me(t);return{c(){B&&B.c(),e=S(),n=v("div"),l=v("label"),W(s.$$.fragment),o=S(),i=v("input"),c=S(),r=v("label"),W(a.$$.fragment),_=S(),u=v("input"),f=S(),d=v("div"),g=v("div"),w=v("div"),W(b.$$.fragment),$=S(),W(I.$$.fragment),P=S(),E=v("div"),G=v("div"),W(L.$$.fragment),J=S(),W(R.$$.fragment),T=S(),z=v("label"),W(V.$$.fragment),fe=S(),te=v("input"),je=S(),pe=v("div"),Ie=v("div"),W(de.$$.fragment),rt=S(),ie=v("select");for(let p=0;p<X.length;p+=1)X[p].c();ze=S(),le.c(),$e=we(),m(i,"type","text"),m(i,"class","svelte-crohmt"),m(l,"class","svelte-crohmt"),m(u,"type","text"),m(u,"class","svelte-crohmt"),m(r,"class","svelte-crohmt"),m(w,"class","toggle-label svelte-crohmt"),m(g,"class","toggle-block svelte-crohmt"),m(G,"class","toggle-label svelte-crohmt"),m(E,"class","toggle-block svelte-crohmt"),m(d,"class","toggles svelte-crohmt"),m(te,"type","number"),m(te,"min","0"),m(te,"class","svelte-crohmt"),m(z,"class","svelte-crohmt"),m(Ie,"class","toggle-label svelte-crohmt"),m(ie,"class","svelte-crohmt"),t[8]===void 0&&ce(()=>t[21].call(ie)),m(pe,"class","toggle-block svelte-crohmt"),m(n,"id","search-box"),m(n,"class","svelte-crohmt")},m(p,q){B&&B.m(p,q),C(p,e,q),C(p,n,q),h(n,l),U(s,l,null),h(l,o),h(l,i),ae(i,t[1]),h(n,c),h(n,r),U(a,r,null),h(r,_),h(r,u),ae(u,t[2]),h(n,f),h(n,d),h(d,g),h(g,w),U(b,w,null),h(g,$),U(I,g,null),h(d,P),h(d,E),h(E,G),U(L,G,null),h(E,J),U(R,E,null),h(n,T),h(n,z),U(V,z,null),h(z,fe),h(z,te),ae(te,t[3]),h(n,je),h(n,pe),h(pe,Ie),U(de,Ie,null),h(pe,rt),h(pe,ie);for(let _e=0;_e<X.length;_e+=1)X[_e]&&X[_e].m(ie,null);kt(ie,t[8],!0),C(p,ze,q),le.m(p,q),C(p,$e,q),qe=!0,Be||(ct=[O(i,"input",t[16]),O(u,"input",t[17]),O(te,"input",t[20]),O(ie,"change",t[21]),O(n,"keydown",t[12])],Be=!0)},p(p,[q]){p[6]?B?(B.p(p,q),q&64&&A(B,1)):(B=jt(p),B.c(),A(B,1),B.m(e.parentNode,e)):B&&(Se(),N(B,1,1,()=>{B=null}),Le());const _e={};q&67108864&&(_e.$$scope={dirty:q,ctx:p}),s.$set(_e),q&2&&i.value!==p[1]&&ae(i,p[1]);const dt={};q&67108864&&(dt.$$scope={dirty:q,ctx:p}),a.$set(dt),q&4&&u.value!==p[2]&&ae(u,p[2]);const _t={};q&67108896&&(_t.$$scope={dirty:q,ctx:p}),b.$set(_t);const ht={};!j&&q&32&&(j=!0,ht.checked=p[5],ue(()=>j=!1)),I.$set(ht);const pt={};q&67108880&&(pt.$$scope={dirty:q,ctx:p}),L.$set(pt);const mt={};!y&&q&16&&(y=!0,mt.checked=p[4],ue(()=>y=!1)),R.$set(mt);const gt={};q&67108864&&(gt.$$scope={dirty:q,ctx:p}),V.$set(gt),q&8&&Jt(te.value)!==p[3]&&ae(te,p[3]);const vt={};if(q&67108864&&(vt.$$scope={dirty:q,ctx:p}),de.$set(vt),q&512){me=p[9];let Z;for(Z=0;Z<me.length;Z+=1){const bt=Rt(p,me,Z);X[Z]?X[Z].p(bt,q):(X[Z]=zt(bt),X[Z].c(),X[Z].m(ie,null))}for(;Z<X.length;Z+=1)X[Z].d(1);X.length=me.length}q&768&&kt(ie,p[8]),Me===(Me=ft(p))&&le?le.p(p,q):(le.d(1),le=Me(p),le&&(le.c(),le.m($e.parentNode,$e)))},i(p){qe||(A(B),A(s.$$.fragment,p),A(a.$$.fragment,p),A(b.$$.fragment,p),A(I.$$.fragment,p),A(L.$$.fragment,p),A(R.$$.fragment,p),A(V.$$.fragment,p),A(de.$$.fragment,p),qe=!0)},o(p){N(B),N(s.$$.fragment,p),N(a.$$.fragment,p),N(b.$$.fragment,p),N(I.$$.fragment,p),N(L.$$.fragment,p),N(R.$$.fragment,p),N(V.$$.fragment,p),N(de.$$.fragment,p),qe=!1},d(p){B&&B.d(p),p&&k(e),p&&k(n),Y(s),Y(a),Y(b),Y(I),Y(L),Y(R),Y(V),Y(de),tt(X,p),p&&k(ze),le.d(p),p&&k($e),Be=!1,H(ct)}}}function wl(t,e,n){let{loading:l}=e,s="",o="",i=10,c=!1,r=!1,a="English";const _=Object.keys(ot),u=Kt();let f;function d(){const T=c?"gmu":"gmiu",z=r?new RegExp(o,T):o,V=Math.round(i),fe=V>0?V:1/0;f=new AbortController;const{signal:te}=f;u("search",{id:s,search:z,limit:fe,caseSensitive:c,lang:a,signal:te})}function g(){f==null||f.abort("User pressed abort button")}function w(T){T.key==="Enter"&&d()}let b=null,$=!1;function I(T){n(6,b=T.detail),n(7,$=!0)}function j(T){s=T,n(1,s)}function P(T){$=T,n(7,$)}function E(){s=this.value,n(1,s)}function G(){o=this.value,n(2,o)}function L(T){r=T,n(5,r)}function J(T){c=T,n(4,c)}function R(){i=Jt(this.value),n(3,i)}function y(){a=hn(this),n(8,a),n(9,_)}return t.$$set=T=>{"loading"in T&&n(0,l=T.loading)},[l,s,o,i,c,r,b,$,a,_,d,g,w,I,j,P,E,G,L,J,R,y]}class $l extends ee{constructor(e){super(),x(this,e,wl,kl,Q,{loading:0})}}const Cl="/youtube-caption-search/assets/moon-b8d91fc1.svg",Tl="/youtube-caption-search/assets/sun-d9d4a273.svg";function El(t){let e,n,l;function s(i){t[2](i)}let o={onimg:Cl,offimg:Tl};return t[0]!==void 0&&(o.checked=t[0]),e=new Xe({props:o}),K.push(()=>re(e,"checked",s)),e.$on("click",t[1]),{c(){W(e.$$.fragment)},m(i,c){U(e,i,c),l=!0},p(i,[c]){const r={};!n&&c&1&&(n=!0,r.checked=i[0],ue(()=>n=!1)),e.$set(r)},i(i){l||(A(e.$$.fragment,i),l=!0)},o(i){N(e.$$.fragment,i),l=!1},d(i){Y(e,i)}}}function Sl(t,e,n){let{dark:l}=e;const s=window.matchMedia("(prefers-color-scheme: dark)");function o(){const r=document.documentElement.getAttribute("theme-override");return r||(s.matches?"dark":"light")}s.addEventListener("change",()=>{n(0,l=o()==="dark")});function i(){const r=o()==="light";n(0,l=r);const a=r?"dark":"light";document.documentElement.setAttribute("theme-override",a),localStorage.setItem("theme-override",a)}Zt(()=>{const r=localStorage.getItem("theme-override");r?(document.documentElement.setAttribute("theme-override",r),n(0,l=r==="dark")):n(0,l=o()==="dark")});function c(r){l=r,n(0,l)}return t.$$set=r=>{"dark"in r&&n(0,l=r.dark)},[l,i,c]}class Ll extends ee{constructor(e){super(),x(this,e,Sl,El,Q,{dark:0})}}const{document:Il}=cn;function Bt(t){let e,n,l,s,o;return n=new On({props:{size:"100",color:"var(--txt)"}}),{c(){e=v("div"),W(n.$$.fragment),m(e,"class","animation-holder svelte-1yonswx")},m(i,c){C(i,e,c),U(n,e,null),o=!0},i(i){o||(A(n.$$.fragment,i),ce(()=>{o&&(s&&s.end(1),l=wn(e,At,{}),l.start())}),o=!0)},o(i){N(n.$$.fragment,i),l&&l.invalidate(),s=$n(e,At,{}),o=!1},d(i){i&&k(e),Y(n),i&&s&&s.end()}}}function ql(t){let e,n,l,s,o,i,c,r,a,_,u,f,d,g,w,b,$,I;o=new Pn({});function j(y){t[4](y)}let P={};t[0]!==void 0&&(P.dark=t[0]),a=new Ll({props:P}),K.push(()=>re(a,"dark",j));function E(y){t[5](y)}let G={};t[2]!==void 0&&(G.loading=t[2]),f=new $l({props:G}),K.push(()=>re(f,"loading",E)),f.$on("search",t[3]);let L=t[2]&&Bt();function J(y){t[6](y)}let R={};return t[1]!==void 0&&(R.matches=t[1]),b=new zn({props:R}),K.push(()=>re(b,"matches",J)),{c(){e=v("meta"),l=S(),s=v("main"),W(o.$$.fragment),i=S(),c=v("h1"),c.textContent="YouTube Caption Search",r=S(),W(a.$$.fragment),u=S(),W(f.$$.fragment),g=S(),L&&L.c(),w=S(),W(b.$$.fragment),m(e,"name","theme-color"),m(e,"content",n="#"+(t[0]?"000":"FFF")),m(e,"data-react-helmet","true"),m(s,"class","svelte-1yonswx")},m(y,T){h(Il.head,e),C(y,l,T),C(y,s,T),U(o,s,null),h(s,i),h(s,c),h(s,r),U(a,s,null),h(s,u),U(f,s,null),h(s,g),L&&L.m(s,null),h(s,w),U(b,s,null),I=!0},p(y,[T]){(!I||T&1&&n!==(n="#"+(y[0]?"000":"FFF")))&&m(e,"content",n);const z={};!_&&T&1&&(_=!0,z.dark=y[0],ue(()=>_=!1)),a.$set(z);const V={};!d&&T&4&&(d=!0,V.loading=y[2],ue(()=>d=!1)),f.$set(V),y[2]?L?T&4&&A(L,1):(L=Bt(),L.c(),A(L,1),L.m(s,w)):L&&(Se(),N(L,1,1,()=>{L=null}),Le());const fe={};!$&&T&2&&($=!0,fe.matches=y[1],ue(()=>$=!1)),b.$set(fe)},i(y){I||(A(o.$$.fragment,y),A(a.$$.fragment,y),A(f.$$.fragment,y),A(L),A(b.$$.fragment,y),I=!0)},o(y){N(o.$$.fragment,y),N(a.$$.fragment,y),N(f.$$.fragment,y),N(L),N(b.$$.fragment,y),I=!1},d(y){k(e),y&&k(l),y&&k(s),Y(o),Y(a),Y(f),L&&L.d(),Y(b)}}}function Ml(t,e,n){let l,s=[],o=!1;async function i(u){for await(const f of u)n(1,s=[...s,...f])}async function c(u){n(1,s=[]);const f=An(u.detail);n(2,o=!0),await i(f).catch(d=>(console.error(d),alert(d.toString()+`
Did you enter a valid channel ID?`))),n(2,o=!1)}Zt(()=>{const f=[...document.getElementsByTagName("meta")].filter(d=>d.name==="theme-color"&&d.className==="");f.length!==0&&f[0].remove()});function r(u){l=u,n(0,l)}function a(u){o=u,n(2,o)}function _(u){s=u,n(1,s)}return[l,s,o,c,r,a,_]}class Al extends ee{constructor(e){super(),x(this,e,Ml,ql,Q,{})}}new Al({target:document.getElementById("app")});
